import java.io.File;
import java.nio.file.Files;
import java.nio.file.LinkOption;
import java.nio.file.Path;
import java.util.LinkedList;

/**
 * Serializable container for saved user info
 * 
 * @author Alex Bowen
 * @version 0.0.1
 */

public class SavedUserSettings implements java.io.Serializable
{
	private static final long serialVersionUID = 255818722789172080L;

	final static String C_DefaultUserFilename = "UserSettings.drk";
	
	public LinkedList<SavedServerInfo> SavedServers;
	
	public SavedUserSettings()
	{
		SavedServers = new LinkedList<SavedServerInfo>();
	}
	
	public static String defaultUserSettingsDirectory()
	{
		String systemPath;
		String slash;
		
		String OS = System.getProperty("os.name").toLowerCase();
		
	    if (OS.contains("win"))
	    {
	    	systemPath = System.getenv("APPDATA");
	    	slash = "\\";
	    }
	    else if (OS.contains("mac"))
	    {
	    	systemPath =  System.getProperty("user.home") + "/Library/Application " + "Support";
	    	slash = "/";
	    }
	    else if (OS.contains("nux"))
	    {
	    	systemPath = System.getProperty("user.home");
	    	slash = "/";
	    }
	    else
	    {
	    	systemPath = System.getProperty("user.dir");
	    	slash = "/";
	    }
	    
	    return systemPath + slash + "DORK" + slash;
	}
	
	public static SavedUserSettings createOrLoadDefaultSettings()
	{		
		File directory = new File(defaultUserSettingsDirectory());
		if(!directory.exists())
		{
			directory.mkdir();
		}
		
		SavedUserSettings settings;
		
		File settingsFile = new File(defaultUserSettingsDirectory() + C_DefaultUserFilename);
		
		if(settingsFile.exists())
		{
			
		}
		else
		{
			settings = new SavedUserSettings();
		}
		
		return settings;
	}
}
